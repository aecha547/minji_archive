<!DOCTYPE html>
<html lang="en">
<head>
<title>RECORD: The Seed</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
@import url('https://fonts.googleapis.com/css2?family=Caveat:wght@600&family=Cinzel:wght@500&family=VT323&display=swap');
body{background:#050002;color:#d4d4d4;font-family:'VT323',monospace;height:100vh;overflow:hidden;display:flex;justify-content:center;align-items:center}
.content{width:min(90vw,600px);height:80vh;overflow-y:auto;padding:20px;border-left:2px solid #331122;scrollbar-width:none}
p{font-family:'Cinzel',serif;font-size:1.1rem;line-height:2.2;margin-bottom:2rem;opacity:0;transform:translateY(20px);transition:1s}
p.show{opacity:1;transform:translateY(0)}
.hand{font-family:'Caveat',cursive;font-size:1.8rem;color:#ff66aa;transform:rotate(-2deg);display:inline-block}
.gold{color:#ffcc00;text-shadow:0 0 10px rgba(255,204,0,0.3)}
.seed-list{border:1px solid #333;padding:15px;background:#11050a;margin:20px 0}
#final-block{text-align:center;margin-top:50px;display:none}
button{background:transparent;border:1px solid #ff66aa;color:#ff66aa;padding:15px 30px;font-size:1.2rem;cursor:pointer;margin-top:20px}
</style>
</head>
<body>
<div class="content" id="c"></div>

<script>
// Audio Setup (Burna Boy Intro Vibe - Deep Drone)
const audioCtx = new (window.AudioContext||window.webkitAudioContext)();
function playDrone(){
  const osc = audioCtx.createOscillator();
  const g = audioCtx.createGain();
  osc.type = 'triangle'; osc.frequency.value = 55; // Low A
  g.gain.value = 0.1;
  osc.connect(g); g.connect(audioCtx.destination);
  osc.start();
}

const lines = [
  "<span class='hand'>My lil Peasant,</span>",
  "I received your Sheepy. I saw the lipstick kiss marks. I read the 48th draft of your letter.",
  "You require a compliment? Okay. Here is the truth.",
  "I know you think you're 'Sigma'. I know you try to act tough with your 20v1 comments.",
  "But I see the girl who gets jealous because she cares. The girl who had a glow up but still checks if she's good enough.",
  "I have been standing at a closed door for a long time. You know my history. You know why I hesitate.",
  "But then you asked me about seeds.",
  "A seed has many endings:",
  "<div class='seed-list'>1. It gets eaten.<br>2. It rots in the ground.<br>3. It grows into the rock and breaks it apart.</div>",
  "I am terrified of options 1 and 2.",
  "But you... you make me want to risk option 3.",
  "You play Chase Atlantic and listen to Burna Boy intros because you love the buildup. You love the tension.",
  "So here is the drop.",
  "To answer your final question:",
  "<span class='gold' style='font-size:1.5rem'>YES.</span>",
  "I will be your first and only valentine."
];

const c = document.getElementById('c');

async function play(){
  await new Promise(r=>document.body.onclick=r); // Wait for interaction
  playDrone();
  
  for(let line of lines){
    const p = document.createElement('div');
    p.innerHTML = line;
    c.appendChild(p);
    // Auto scroll
    c.scrollTop = c.scrollHeight;
    
    // Trigger animation frame next
    requestAnimationFrame(()=>{p.classList.add('show')});
    
    // Reading pacing
    await new Promise(r=>setTimeout(r, Math.max(1500, line.length*40)));
  }

  // Final button
  const div = document.createElement('div');
  div.id = 'final-block';
  div.innerHTML = "<button onclick='finish()'>ACCEPT FATE</button>";
  c.appendChild(div);
  div.style.display='block';
  c.scrollTop = c.scrollHeight;
}

function finish(){
  let s = JSON.parse(localStorage.getItem('minji_archive_v1')||'{}');
  s.tape4 = {complete:true};
  localStorage.setItem('minji_archive_v1', JSON.stringify(s));
  window.location.href = 'index.html';
}

// Initial prompt
c.innerHTML = "<p class='show' style='text-align:center;margin-top:40%'>[ CLICK TO PLAY RECORDING ]</p>";
play();

</script>
</body>
</html>
