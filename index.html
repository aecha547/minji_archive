<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>SEED_ARCHIVE.vhs</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=VT323&family=Cormorant+Garamond:ital,wght@0,600;1,600&display=swap');
:root{
--bg:#050505;--pink:#ff9ec6;--pink-dim:#8a4a60;
--gold:#d4af37;--green:#a8e6a3;--dim:#555;--white:#e0e0e0;
--font-crt:'VT323',monospace;--font-serif:'Cormorant Garamond',serif;
}
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;user-select:none}
html,body{height:100%;overflow:hidden;background:#060606;font-family:var(--font-crt);color:var(--pink)}

#boot-overlay{position:fixed;inset:0;z-index:9999;background:#000;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:opacity .8s}
#boot-overlay.hidden{opacity:0;pointer-events:none}
.seed-logo{font-size:4rem;margin-bottom:10px;filter:drop-shadow(0 0 15px var(--pink));animation:pulse 3s infinite}
h1{font-family:var(--font-serif);font-size:clamp(2.5rem,6vw,4rem);color:var(--pink);text-shadow:0 0 20px var(--pink-dim)}
.boot-sub{color:var(--dim);font-size:1rem;margin-top:10px;letter-spacing:2px}

#station{display:none;grid-template-columns:1fr 280px;height:90vh;width:95vw;max-width:1200px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);gap:15px}
#station.on{display:grid}

/* TV Unit */
.tv-unit{background:#111;border:2px solid #333;border-radius:20px;display:flex;flex-direction:column;padding:20px;position:relative;box-shadow:0 0 50px rgba(0,0,0,0.8)}
.screen-bezel{flex:1;background:#000;border-radius:12px;position:relative;overflow:hidden;border:2px solid #222}
.crt-fx{position:absolute;inset:0;pointer-events:none;z-index:10;background:repeating-linear-gradient(0deg,transparent,transparent 1px,rgba(0,0,0,0.2) 2px);box-shadow:inset 0 0 40px rgba(0,0,0,0.8)}
#screen{position:absolute;inset:0;z-index:5;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;text-align:center}

/* Tape Rack */
.tape-rack{background:#0a0a0a;border:2px solid #333;border-radius:10px;padding:15px;overflow-y:auto;display:flex;flex-direction:column;gap:12px}
.vhs-tape{background:#1a1a1a;border:1px solid #444;border-radius:4px;padding:10px;cursor:pointer;transition:transform .2s;position:relative}
.vhs-tape:hover{transform:translateX(5px);border-color:var(--pink)}
.vhs-tape.locked{opacity:0.4;cursor:not-allowed;filter:grayscale(1)}
.vhs-tape.locked:hover{transform:none;border-color:#444}
.tape-label{background:#e8dcc8;color:#000;font-family:cursive;font-weight:bold;padding:2px 8px;transform:rotate(-1deg);display:inline-block;font-size:14px;width:100%;text-align:center;box-shadow:0 1px 3px rgba(0,0,0,0.5)}
.tape-status{font-size:10px;color:var(--dim);margin-top:4px;display:block;text-align:right}

/* Controls */
.controls{display:flex;justify-content:space-between;margin-top:15px;align-items:center}
.slot{background:#000;border:1px solid #444;height:30px;width:150px;border-radius:4px;display:flex;align-items:center;justify-content:center;color:#333;font-size:12px;transition:all 0.3s}
.slot.active{border-color:var(--pink);color:var(--pink);box-shadow:0 0 10px var(--pink-dim)}

/* Audio Btn */
.audio-btn{position:fixed;top:20px;right:20px;z-index:100;background:rgba(0,0,0,0.7);border:1px solid #444;color:#888;padding:5px 10px;cursor:pointer;font-family:var(--font-crt)}
.audio-btn.on{color:var(--pink);border-color:var(--pink)}

@keyframes pulse{0%,100%{opacity:0.8}50%{opacity:1;transform:scale(1.05)}}
@media(max-width:800px){#station{grid-template-columns:1fr;grid-template-rows:1fr auto;height:auto}.tape-rack{flex-direction:row;overflow-x:auto;min-height:120px}.vhs-tape{min-width:140px}}
</style>
</head>
<body>

<audio id="bgm" loop><source src="MEMORY.mp3" type="audio/mpeg"></audio>

<div id="boot-overlay">
  <div class="seed-logo">ðŸŒ±</div>
  <h1>SEED ARCHIVE</h1>
  <div class="boot-sub">FOR MINJI</div>
  <p style="margin-top:40px;color:#666">[ CLICK TO INITIALIZE ]</p>
</div>

<button class="audio-btn" onclick="toggleAudio()">â™ª MUTE</button>

<div id="station">
  <div class="tv-unit">
    <div class="screen-bezel">
      <div class="crt-fx"></div>
      <div id="screen">
        <div style="font-size:24px;color:var(--dim)">SYSTEM READY</div>
      </div>
    </div>
    <div class="controls">
      <div style="display:flex;gap:5px">
        <div style="width:10px;height:10px;background:#f00;border-radius:50%;box-shadow:0 0 5px #f00"></div>
        <span style="font-size:10px;color:#555">PWR</span>
      </div>
      <div class="slot" id="slot">NO TAPE</div>
    </div>
  </div>

  <div class="tape-rack" id="rack">
    <!-- Generated by JS -->
  </div>
</div>

<script>
const tapes = [
  {id:'tape1', name:'SIDE A: Soil', file:'tape1.html'},
  {id:'tape2', name:'SIDE B: Rain', file:'tape2.html'},
  {id:'tape3', name:'SIDE C: Thorns', file:'tape3.html'},
  {id:'tape4', name:'SIDE D: Bloom', file:'tape4.html', final:true},
  {id:'tape5', name:'???: Seasons', locked:true}
];

const state = JSON.parse(localStorage.getItem('seed_progress') || '{"tape1":false,"tape2":false,"tape3":false,"tape4":false}');
let audioOn = false;

function init(){
  const rack = document.getElementById('rack');
  tapes.forEach((t, i) => {
    // Logic: Unlocks sequentially
    let locked = t.locked;
    if(i > 0 && !state[tapes[i-1].id]) locked = true;
    
    const el = document.createElement('div');
    el.className = `vhs-tape ${locked ? 'locked' : ''}`;
    el.innerHTML = `
      <div class="tape-label">${t.name}</div>
      <span class="tape-status">${locked ? 'LOCKED' : (state[t.id] ? 'PLAYED' : 'NEW')}</span>
    `;
    if(!locked) el.onclick = () => loadTape(t);
    rack.appendChild(el);
  });
}

function loadTape(t){
  document.getElementById('slot').innerText = "LOADING...";
  document.getElementById('slot').classList.add('active');
  // Visual delay
  setTimeout(() => {
    window.location.href = t.file;
  }, 1000);
}

function toggleAudio(){
  const a = document.getElementById('bgm');
  const b = document.querySelector('.audio-btn');
  if(audioOn){ a.pause(); b.classList.remove('on'); }
  else{ a.play().catch(e=>{}); b.classList.add('on'); }
  audioOn = !audioOn;
}

document.getElementById('boot-overlay').onclick = function(){
  this.style.opacity = 0;
  setTimeout(()=>this.remove(), 800);
  document.getElementById('station').classList.add('on');
  toggleAudio();
};

init();
</script>
</body>
</html>
