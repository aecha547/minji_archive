<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>THE SEED OF MANY ENDINGS</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=VT323&family=Caveat:wght@400;600;700&family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&display=swap');
:root{
  --pink:#ff6b9d;--pink-dim:#993d5e;--pink-bright:#ffb3cc;
  --gold:#d4af37;--green:#a8e6a3;--red:#cc4444;--blue:#5588bb;--earth:#8B7355;
  --crt:'VT323',monospace;--hand:'Caveat',cursive;--serif:'Cormorant Garamond',serif;
}
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;user-select:none}
html,body{height:100%;overflow:hidden;background:#050505;font-family:var(--crt);color:var(--pink)}

/* â•â•â• BOOT â•â•â• */
#boot{position:fixed;inset:0;z-index:9999;background:#000;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:opacity 1.2s}
#boot.gone{opacity:0;pointer-events:none}
.seed-svg{width:clamp(80px,20vw,120px);height:clamp(80px,20vw,120px);filter:drop-shadow(0 0 20px rgba(168,230,163,.4));animation:seedPulse 3s ease-in-out infinite}
@keyframes seedPulse{0%,100%{transform:scale(1);filter:drop-shadow(0 0 20px rgba(168,230,163,.4))}50%{transform:scale(1.08);filter:drop-shadow(0 0 35px rgba(168,230,163,.6))}}
#boot h1{font-family:var(--serif);font-size:clamp(1.8rem,5vw,2.8rem);font-weight:600;color:var(--pink);letter-spacing:-1px;text-shadow:0 0 30px var(--pink),0 0 60px var(--pink-dim);animation:flicker 3s infinite;text-align:center;line-height:1.3;margin-top:20px}
#boot .sub{font-family:var(--hand);font-size:clamp(1rem,2.5vw,1.4rem);color:var(--pink-dim);margin-top:8px;opacity:.7}
.boot-prompt{color:#444;font-size:clamp(1rem,2vw,1.2rem);margin-top:clamp(30px,6vh,50px);animation:pulse 2s infinite;letter-spacing:3px}
.boot-sub{color:var(--pink-dim);font-size:.8rem;margin-top:12px;opacity:.4}
@keyframes flicker{0%,18%,22%,25%,53%,56%,100%{opacity:1}20%,24%,55%{opacity:.6;text-shadow:none}}
@keyframes pulse{0%,100%{opacity:.3}50%{opacity:.8}}
@keyframes blink{0%,100%{opacity:1}50%{opacity:0}}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}

/* â•â•â• PARTICLES â•â•â• */
#particles{position:fixed;inset:0;pointer-events:none;z-index:1;overflow:hidden}
.particle{position:absolute;bottom:-10px;border-radius:50%;pointer-events:none;opacity:0;animation:floatUp linear forwards}
@keyframes floatUp{0%{opacity:0;transform:translateY(0) translateX(0)}10%{opacity:var(--po,0.15)}90%{opacity:var(--po,0.15)}100%{opacity:0;transform:translateY(calc(-100vh - 20px)) translateX(var(--dx,20px))}}

/* â•â•â• STATION â•â•â• */
#station{display:none;grid-template-columns:1fr minmax(190px,260px);grid-template-rows:1fr;gap:12px;width:min(96vw,1050px);height:min(90vh,720px);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0;transition:opacity .8s}
#station.on{display:grid;opacity:1}

/* â•â•â• TV â•â•â• */
.tv{grid-column:1;background:linear-gradient(145deg,#1a1a1a,#0e0e0e);border-radius:20px;border:2px solid #252525;box-shadow:inset 0 0 50px #000,0 12px 50px rgba(0,0,0,.85);display:flex;flex-direction:column;padding:16px;position:relative;z-index:2}
.bezel{flex:1;background:#020202;border-radius:12px;position:relative;overflow:hidden;border:2px solid #181818;box-shadow:inset 0 0 50px rgba(0,0,0,.9)}
canvas#crt{position:absolute;inset:0;width:100%;height:100%;z-index:5}
.scanlines{position:absolute;inset:0;pointer-events:none;z-index:10;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.12) 2px,rgba(0,0,0,.12) 4px);opacity:.4}
.vignette{position:absolute;inset:0;pointer-events:none;z-index:11;background:radial-gradient(ellipse at center,transparent 45%,rgba(0,0,0,.8))}
.glare{position:absolute;inset:0;pointer-events:none;z-index:12;background:linear-gradient(135deg,rgba(255,255,255,.03) 0%,transparent 35%)}
.scanbar{position:absolute;top:0;left:0;width:100%;height:6px;background:linear-gradient(180deg,transparent,rgba(255,255,255,.06),transparent);opacity:.4;z-index:13;pointer-events:none;animation:scanbar 5s linear infinite}
@keyframes scanbar{from{top:-4%}to{top:104%}}
.glow{position:absolute;inset:-15px;z-index:-1;border-radius:22px;pointer-events:none;transition:background 1.5s}
#screen{position:absolute;inset:0;z-index:20;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;overflow:hidden}
.ch-id{position:absolute;top:12px;left:14px;font-size:1.5rem;color:var(--pink-dim);opacity:.4;text-shadow:0 0 6px var(--pink-dim);letter-spacing:2px;z-index:25}
.rec{position:absolute;top:12px;right:14px;font-size:.9rem;color:var(--red);opacity:0;transition:opacity .3s;z-index:25}
.rec.on{opacity:1;animation:blink 1s infinite}
.counter{position:absolute;top:12px;right:14px;font-size:1.1rem;color:rgba(255,255,255,.5);opacity:0;z-index:25;letter-spacing:1px;text-shadow:0 0 4px rgba(255,255,255,.2);transition:opacity .4s}
.counter.on{opacity:1}
.screen-msg{font-size:clamp(1rem,2.5vw,1.6rem);color:var(--pink-dim);text-shadow:0 0 10px var(--pink-dim);letter-spacing:3px;text-align:center}

/* â•â•â• DIALOGUE â•â•â• */
#dlg{position:absolute;bottom:14px;left:50%;transform:translateX(-50%);z-index:30;text-align:center;color:var(--pink-bright);font-family:var(--serif);font-size:clamp(.95rem,1.8vw,1.2rem);text-shadow:0 0 8px var(--pink);background:rgba(8,3,8,.92);padding:10px 18px;border-radius:4px;border:1px solid rgba(255,107,157,.2);max-width:88%;line-height:1.5;opacity:0;transition:opacity .4s;pointer-events:none}
#dlg.vis{opacity:1}

/* â•â•â• BOOT TEXT â•â•â• */
.boot-text{width:88%;text-align:left;color:var(--pink);font-size:clamp(12px,1.6vw,15px);line-height:1.9;text-shadow:0 0 6px rgba(255,107,157,.12);white-space:pre-wrap}
.boot-text .cur{display:inline-block;width:7px;height:1.1em;background:var(--pink);vertical-align:text-bottom;margin-left:2px;animation:blink .7s step-end infinite}

/* â•â•â• SHEEPY INTRO â•â•â• */
.sheepy-intro{display:flex;flex-direction:column;align-items:center;gap:14px;width:100%}
.sheepy-glow{width:clamp(120px,28vw,160px);height:clamp(120px,28vw,160px);background:radial-gradient(circle,rgba(255,182,193,.2) 0%,transparent 70%);border-radius:50%;display:flex;align-items:center;justify-content:center;animation:sheepGlow 3s ease-in-out infinite}
@keyframes sheepGlow{0%,100%{opacity:.6;transform:scale(1)}50%{opacity:.9;transform:scale(1.05)}}
.intro-line{font-family:var(--serif);font-size:clamp(1rem,2vw,1.3rem);color:var(--pink-bright);text-align:center;min-height:2.6em;transition:opacity .5s;line-height:1.5}
.intro-line .hand{font-family:var(--hand);font-size:1.15em;color:var(--gold)}

/* â•â•â• SCENE TEXT (tape playback) â•â•â• */
.scene-wrap{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:6px;width:90%;max-width:500px}
.scene-line{font-family:var(--serif);font-size:clamp(1.1rem,2.4vw,1.5rem);color:var(--pink-bright);line-height:1.6;text-shadow:0 0 12px var(--pink-dim);opacity:0;transform:translateY(8px);transition:all .6s}
.scene-line.vis{opacity:1;transform:translateY(0)}
.scene-line.gold{color:var(--gold);font-family:var(--hand);font-size:clamp(1.3rem,2.8vw,1.7rem)}
.scene-line.dim{color:var(--pink-dim);font-size:clamp(.9rem,1.6vw,1.1rem)}
.end-card{font-family:var(--hand);font-size:clamp(1.2rem,2.5vw,1.6rem);color:var(--green);text-shadow:0 0 20px var(--green);opacity:0;transition:opacity 1s}
.end-card.vis{opacity:1}

/* â•â•â• LOAD BAR â•â•â• */
.load-wrap{text-align:center;width:80%}
.load-title{font-size:14px;color:var(--pink);margin-bottom:8px;letter-spacing:.1em}
.load-bar{width:100%;height:6px;border:1px solid var(--pink);border-radius:3px;overflow:hidden;background:rgba(255,107,157,.1)}
.load-fill{height:100%;background:var(--pink);width:0%;transition:width .06s linear}

/* â•â•â• TV CONTROLS â•â•â• */
.controls{display:flex;align-items:center;justify-content:space-between;padding:6px 12px;margin-top:5px;flex-shrink:0;flex-wrap:wrap;gap:4px}
.pwr-sec{display:flex;align-items:center;gap:5px}
.led{width:7px;height:7px;border-radius:50%;transition:all .2s;box-shadow:inset 0 0 2px rgba(0,0,0,.6)}
.led.pwr{background:#400}.led.pwr.on{background:#e44;box-shadow:0 0 5px rgba(238,68,68,.5)}
.led.play{background:#300;margin-left:8px}.led.play.on{background:var(--pink);box-shadow:0 0 5px rgba(255,107,157,.5)}
.ctrl-lbl{font-size:9px;letter-spacing:.15em;color:#444;text-transform:uppercase;margin-left:2px}
.slot{width:150px;height:22px;background:#040404;border:1.5px solid #2a2a2a;border-radius:3px;box-shadow:inset 0 2px 6px rgba(0,0,0,.8);position:relative;overflow:hidden;transition:all .3s;display:flex;align-items:center;justify-content:center;cursor:pointer}
.slot-lbl{font-size:9px;letter-spacing:.12em;color:#2a2a2a;transition:color .3s;position:relative;z-index:2}
.slot.active{border-color:var(--pink);box-shadow:inset 0 2px 6px rgba(0,0,0,.8),0 0 10px rgba(255,107,157,.2)}
.slot.active .slot-lbl{color:var(--pink);animation:pulse 1.5s infinite}
.slot.inserting{border-color:var(--green)}
.slot-flap{position:absolute;inset:0;background:linear-gradient(180deg,#1a1a1a,#0e0e0e);transform-origin:top;transition:transform .4s cubic-bezier(.68,-.55,.265,1.55);border-bottom:1px solid #2a2a2a;z-index:1}
.slot.inserting .slot-flap{transform:perspective(80px) rotateX(-85deg)}
.eject{padding:3px 10px;background:linear-gradient(180deg,#222,#161616);border:1.5px solid #333;color:#777;cursor:pointer;font-family:var(--crt);font-size:10px;border-radius:3px;letter-spacing:1px;transition:all .2s}
.eject:hover{color:#bbb;border-color:#444}
.brand{font-size:10px;letter-spacing:.25em;color:#222;text-transform:uppercase}

/* â•â•â• RACK â•â•â• */
.rack{grid-column:2;background:linear-gradient(180deg,#101010,#080808);border:2px solid #1f1f1f;border-radius:10px;padding:12px;display:flex;flex-direction:column;gap:10px;overflow-y:auto;box-shadow:inset 0 0 20px #000;scrollbar-width:thin;scrollbar-color:#222 #080808}
.rack-hdr{color:#333;text-align:center;border-bottom:1px solid #1a1a1a;padding-bottom:6px;letter-spacing:3px;font-size:11px}

/* â•â•â• VHS TAPE â•â•â• */
.tape{min-height:80px;background:linear-gradient(180deg,#1b1b1b,#121212);border-radius:5px;border:1.5px solid #2d2d2d;position:relative;cursor:grab;transition:border-color .2s,opacity .2s,transform .2s,box-shadow .2s;display:flex;flex-direction:column;align-items:center;justify-content:center;box-shadow:2px 4px 12px rgba(0,0,0,.5),inset 0 -2px 6px rgba(0,0,0,.25);flex-shrink:0;touch-action:none}
.tape:active{cursor:grabbing}
.tape.dragging{opacity:.25;transform:scale(.95)}
.tape.locked,.tape.seq-locked{cursor:not-allowed}
.tape.locked{opacity:.3}.tape.seq-locked{opacity:.45}
.tape.complete{border-color:#2a3a2a}
.tape.complete::after{content:'âœ“';position:absolute;top:5px;right:6px;font-size:11px;color:var(--green);text-shadow:0 0 4px var(--green)}
.tape.selected{border-color:var(--pink);box-shadow:2px 4px 12px rgba(0,0,0,.5),0 0 15px rgba(255,107,157,.15)}
.tape:not(.locked):not(.seq-locked):hover{border-color:#444;transform:translateY(-2px)}
.tape-win{position:absolute;top:8px;left:12%;width:76%;height:20px;background:#050505;border-radius:3px;border:1px solid #202020;display:flex;align-items:center;justify-content:space-around;padding:0 10px}
.reel{width:12px;height:12px;border:2px solid #333;border-radius:50%;background:#080808}
.tape-strip{width:20px;height:1px;background:#1f1f1f}
.tape-lbl{background:linear-gradient(#e8e0d0,#dcd0bc);color:#1a1a1a;padding:2px 6px;margin-top:22px;width:82%;text-align:center;font-family:var(--hand);font-weight:600;font-size:11px;transform:rotate(-.5deg);box-shadow:0 1px 3px rgba(0,0,0,.25);border-radius:2px;line-height:1.2;position:relative;z-index:2}
.tape-st{font-family:var(--crt);font-size:7px;color:#777;letter-spacing:.08em;margin-top:1px;display:block}
.tape-dot{position:absolute;top:8px;right:5px;width:4px;height:4px;border-radius:50%}

/* â•â•â• DRAG GHOST â•â•â• */
.ghost{position:fixed;z-index:9999;pointer-events:none;min-width:130px;min-height:78px;background:linear-gradient(180deg,#1b1b1b,#121212);border:1.5px solid var(--pink);border-radius:5px;box-shadow:0 10px 30px rgba(0,0,0,.8),0 0 20px rgba(255,107,157,.15);transform:rotate(-4deg) scale(1.05);display:flex;flex-direction:column;align-items:center;justify-content:center;transition:transform .15s,opacity .3s}

/* â•â•â• VHS GLITCH â•â•â• */
.tracking{position:absolute;left:0;width:100%;height:4px;background:linear-gradient(180deg,transparent,rgba(255,255,255,.08),transparent);z-index:14;pointer-events:none;opacity:0;transition:opacity .2s}
.tracking.on{opacity:1;animation:trackDrift 3s linear infinite}
@keyframes trackDrift{0%{top:-2%}100%{top:102%}}

/* â•â•â• AUDIO BTN â•â•â• */
.audio-btn{position:fixed;top:10px;right:10px;z-index:200;background:rgba(0,0,0,.65);border:1px solid #2a2a2a;border-radius:3px;color:#555;font-family:var(--crt);font-size:11px;padding:4px 10px;cursor:pointer;transition:all .2s}
.audio-btn:hover,.audio-btn.on{color:var(--pink);border-color:var(--pink)}

/* â•â•â• RESPONSIVE â•â•â• */
@media(max-width:800px){
  #station{grid-template-columns:1fr;grid-template-rows:1fr 110px;width:98vw;height:auto;position:relative;top:auto;left:auto;transform:none;padding:4px;gap:6px;margin:4px auto}
  .tv{min-height:52vh}
  .rack{flex-direction:row;overflow-x:auto;padding:8px;gap:8px;border-radius:8px}
  .tape{min-width:120px;min-height:75px}
  .controls{justify-content:center;gap:8px}
}
</style>
</head>
<body>

<div id="boot">
  <svg class="seed-svg" viewBox="0 0 100 100">
    <defs><radialGradient id="sg" cx="50%" cy="50%"><stop offset="0%" stop-color="#a8e6a3" stop-opacity=".6"/><stop offset="100%" stop-color="#558b2f" stop-opacity=".2"/></radialGradient></defs>
    <ellipse cx="50" cy="50" rx="18" ry="28" fill="url(#sg)" transform="rotate(-20 50 50)"><animate attributeName="ry" values="28;30;28" dur="2s" repeatCount="indefinite"/></ellipse>
    <ellipse cx="50" cy="38" rx="6" ry="3" fill="#c8e6c9" transform="rotate(-20 50 38)"/>
    <path d="M42 22 Q50 10 58 22" stroke="#81c784" stroke-width="2" fill="none" stroke-linecap="round"><animate attributeName="d" values="M42 22 Q50 10 58 22;M42 20 Q50 6 58 20;M42 22 Q50 10 58 22" dur="2s" repeatCount="indefinite"/></path>
  </svg>
  <h1>THE SEED OF<br>MANY ENDINGS</h1>
  <div class="sub">for Minji</div>
  <p class="boot-prompt" id="boot-prompt">[ CLICK TO POWER ON ]</p>
  <div class="boot-sub">DELIVERED BY SHEEPY // ARCHIVE v2.0</div>
</div>

<button class="audio-btn" id="abtn">â™ª OFF</button>
<div id="particles"></div>

<div id="station">
  <div class="tv">
    <div class="glow" id="glow"></div>
    <div class="bezel" id="bezel">
      <canvas id="crt"></canvas>
      <div class="scanlines"></div>
      <div class="vignette"></div>
      <div class="glare"></div>
      <div class="scanbar"></div>
      <div class="tracking" id="tracking"></div>
      <div class="ch-id" id="chid">AV-1</div>
      <div class="rec" id="rec">â— REC</div>
      <div class="counter" id="counter">â–¶ 00:00</div>
      <div id="screen"></div>
      <div id="dlg"></div>
    </div>
    <div class="controls">
      <div class="pwr-sec">
        <div class="led pwr" id="lPwr"></div><span class="ctrl-lbl">PWR</span>
        <div class="led play" id="lPlay"></div><span class="ctrl-lbl">PLAY</span>
      </div>
      <div class="slot" id="slot" onclick="slotClick()">
        <div class="slot-flap" id="flap"></div>
        <span class="slot-lbl" id="slotLbl">â–¶ DRAG HERE</span>
      </div>
      <button class="eject" id="ejectBtn" onclick="doEject()">â EJECT</button>
      <span class="brand">SHEEPYâ„¢</span>
    </div>
  </div>
  <div class="rack" id="rack"></div>
</div>

<script>
'use strict';
const $=id=>document.getElementById(id),
      sl=ms=>new Promise(r=>setTimeout(r,ms));

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   1. STATE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const SKEY='seed_v3';
function ld(){try{return JSON.parse(localStorage.getItem(SKEY))||{}}catch{return{}}}
function sv(s){try{localStorage.setItem(SKEY,JSON.stringify(s))}catch{}}
function done(id){const s=ld();return!!(s[id])}
function markDone(id){const s=ld();s[id]=true;sv(s)}
function canPlay(id){
  if(id==='t1')return true;
  if(id==='t2')return done('t1');
  if(id==='t3')return done('t2');
  if(id==='t4')return done('t1')&&done('t2')&&done('t3');
  if(id==='t5')return done('t1')&&done('t2')&&done('t3')&&done('t4');
  return false;
}
let playing=false, selectedTape=null, insertedTape=null;
let counterIv=null, counterSec=0;

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   2. TAPE CONTENT
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const TAPES=[
  {id:'t1',title:'SIDE A: Soil',color:'#8B7355',padHz:[110,165]},
  {id:'t2',title:'SIDE B: Rain',color:'#5588bb',padHz:[175,220,330]},
  {id:'t3',title:'SIDE C: Thorns',color:'#884466',padHz:[123,147,175]},
  {id:'t4',title:'SIDE D: Bloom',color:'#ff6b9d',padHz:[262,330,392]},
  {id:'t5',title:'???: Seasons',color:'#a8e6a3',padHz:[196,247,294],needs:'t4'},
];
const CONTENT={
  t1:[
    ['Before anything grew,','there was this.'],
    ['A patch of earth','that didn\'t know','it was waiting.'],
    ['You dropped something','into the dark.','A word. A glance.','Maybe just your name.'],
    ['I didn\'t feel it land.','But something shifted','beneath the surface.'],
    ['The soil remembers','what the gardener forgets.'],
    ['I remember.'],
  ],
  t2:[
    ['Some days the distance','is a quiet room.'],
    ['Other days it\'s an ocean','I keep trying to fold','into an envelope.'],
    ['You said something onceâ€”','I\'ve been carrying it','like water in my hands.'],
    ['Trying not to spill.','Trying not to drink.'],
    ['Every message from you','is rain on dry ground.'],
    ['I collect them all.'],
  ],
  t3:[
    ['I wrote this reply','eleven times.'],
    ['Deleted ten.'],
    ['The eleventh','is the one','you\'re hearing now.'],
    ['What scares me:','that this seed','might just be mine.'],
    ['That I planted something','in soil that','doesn\'t want it.'],
    ['But a thorn is just a stem','that learned to protect itself.'],
    ['Will I put','the armor down?'],
    ['9pm at max.', 'The answer shall reveal itself'],
  ],
  t4:[
    ['Here is the truth','without thorns:'],
    ['You grew something in me','that I didn\'t plant.'],
    ['And I\'ve been watering it','in secretâ€”','hoping you wouldn\'t notice.','Hoping you would.'],
    ['Every ending','in these tapes','is the same ending:'],
    ['I care about you.','Deeply.','Quietly.','Completely.'],
    ['The seed of many endings','is just one beginning.'],
    ['This one.'],
  ],
  t5:[
    ['Spring doesn\'t ask','permission.'],
    ['It just arrives.'],
    ['Whatever season we\'re inâ€”','whatever happens','after this tape endsâ€”'],
    ['the seed is real.','It was always real.'],
    ['Thank you','for listening.'],
    ['ğŸŒ±'],
    ['â€” Sheepy','(on behalf of someone','who couldn\'t say it','any other way)'],
  ],
};

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   3. CRT NOISE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let nCtx,nW,nH,nI=.08;
function initNoise(){
  const c=$('crt');nCtx=c.getContext('2d');
  const rs=()=>{const r=c.parentElement.getBoundingClientRect(),d=Math.min(devicePixelRatio||1,2);nW=c.width=r.width*d|0;nH=c.height=r.height*d|0;c.style.width=r.width+'px';c.style.height=r.height+'px'};
  const draw=()=>{if(!nW||!nH){requestAnimationFrame(draw);return}
    const img=nCtx.createImageData(nW,nH),p=img.data;
    for(let i=0;i<p.length;i+=4){if(Math.random()<nI){const v=30+Math.random()*25;p[i]=v+8;p[i+1]=v;p[i+2]=v+3;p[i+3]=255}else{p[i]=p[i+1]=p[i+2]=4;p[i+3]=255}}
    nCtx.putImageData(img,0,0);requestAnimationFrame(draw)};
  window.addEventListener('resize',rs);rs();draw();
}
function burst(d){const o=nI;nI=.55;setTimeout(()=>nI=o,d||350)}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   4. PARTICLES
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function spawnParticle(){
  const p=document.createElement('div');p.className='particle';
  const sz=2+Math.random()*4;
  p.style.cssText=`left:${Math.random()*100}%;width:${sz}px;height:${sz}px;background:radial-gradient(circle,rgba(255,107,157,${.15+Math.random()*.15}),transparent);--po:${.05+Math.random()*.12};--dx:${(Math.random()-.5)*80}px;animation-duration:${8+Math.random()*12}s;`;
  $('particles').appendChild(p);
  setTimeout(()=>p.remove(),20000);
}
let partIv=null;
function startParticles(){if(!partIv)partIv=setInterval(spawnParticle,900)}
function stopParticles(){clearInterval(partIv);partIv=null}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   5. AUDIO ENGINE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let ac=null,mst=null,audioOn=false,currentPad=null;
function aInit(){if(ac)return;ac=new(window.AudioContext||window.webkitAudioContext)();mst=ac.createGain();mst.gain.value=0;mst.connect(ac.destination)}
function aResume(){if(ac&&ac.state==='suspended')ac.resume()}
function aVol(v){if(!mst)return;const t=ac.currentTime;mst.gain.cancelScheduledValues(t);mst.gain.setValueAtTime(mst.gain.value,t);mst.gain.linearRampToValueAtTime(v,t+.3)}

function note(f,dur,type,vol,atk){
  if(!ac)return;const o=ac.createOscillator(),g=ac.createGain();
  o.type=type||'triangle';o.frequency.value=f;
  g.gain.setValueAtTime(.001,ac.currentTime);
  g.gain.linearRampToValueAtTime(vol||.06,ac.currentTime+(atk||.01));
  g.gain.exponentialRampToValueAtTime(.001,ac.currentTime+dur);
  o.connect(g);g.connect(mst);o.start();o.stop(ac.currentTime+dur+.05);
}
function nz(dur,vol){
  if(!ac)return;const sz=ac.sampleRate*dur|0,buf=ac.createBuffer(1,sz,ac.sampleRate),d=buf.getChannelData(0);
  for(let i=0;i<sz;i++)d[i]=Math.random()*2-1;
  const s=ac.createBufferSource();s.buffer=buf;const g=ac.createGain();
  g.gain.setValueAtTime(vol||.06,ac.currentTime);g.gain.exponentialRampToValueAtTime(.001,ac.currentTime+dur);
  s.connect(g);g.connect(mst);s.start();
}
function sfxPower(){nz(.3,.15);note(220,.1,'square',.1);setTimeout(()=>note(55,.12,'sawtooth',.07),70)}
function sfxClunk(){note(70,.15,'square',.1);nz(.05,.08);setTimeout(()=>note(45,.1,'sawtooth',.06),50)}
function sfxSnap(){note(700,.03,'sine',.08);setTimeout(()=>note(180,.03,'sine',.05),25)}
function sfxMotor(){
  if(!ac)return;const o=ac.createOscillator(),g=ac.createGain(),lfo=ac.createOscillator(),lg=ac.createGain();
  o.type='sawtooth';o.frequency.value=55;lfo.type='sine';lfo.frequency.value=2.5;lg.gain.value=1.8;
  lfo.connect(lg);lg.connect(o.frequency);g.gain.setValueAtTime(.03,ac.currentTime);g.gain.linearRampToValueAtTime(0,ac.currentTime+1);
  o.connect(g);g.connect(mst);o.start();lfo.start();o.stop(ac.currentTime+1.1);lfo.stop(ac.currentTime+1.1);
}
function sfxType(){note(1200+Math.random()*500,.012,'square',.012)}
function sfxBeep(){note(520,.06,'sine',.04)}
function sfxComplete(){note(392,.3,'triangle',.06);setTimeout(()=>note(494,.3,'triangle',.06),200);setTimeout(()=>note(587,.5,'triangle',.06),400)}

/* â”€â”€ PAD SYNTH â”€â”€ */
function startPad(freqs,vol){
  if(!ac)return;stopPad();
  const g=ac.createGain(),f=ac.createBiquadFilter(),lfo=ac.createOscillator(),lg=ac.createGain();
  f.type='lowpass';f.frequency.value=600;f.Q.value=1;
  lfo.type='sine';lfo.frequency.value=.12;lg.gain.value=150;lfo.connect(lg);lg.connect(f.frequency);lfo.start();
  const oscs=[];
  freqs.forEach(hz=>{
    [0,1.003,0.997].forEach(det=>{
      const o=ac.createOscillator();o.type='triangle';o.frequency.value=hz*det;o.connect(f);o.start();oscs.push(o);
    });
  });
  f.connect(g);g.gain.setValueAtTime(.001,ac.currentTime);
  g.gain.linearRampToValueAtTime(vol||.035,ac.currentTime+3);
  g.connect(mst);
  currentPad={gain:g,oscs,lfo,filter:f};
}
function stopPad(){
  if(!currentPad)return;
  const{gain,oscs,lfo}=currentPad,t=ac.currentTime;
  gain.gain.linearRampToValueAtTime(.001,t+2);
  setTimeout(()=>{oscs.forEach(o=>{try{o.stop()}catch{}});try{lfo.stop()}catch{}},2200);
  currentPad=null;
}

function toggleAudio(){
  aInit();aResume();audioOn=!audioOn;aVol(audioOn?.35:0);
  if(audioOn&&!playing)startPad([131,165,196,247],.03);
  if(!audioOn)stopPad();
  $('abtn').textContent=audioOn?'â™ª ON':'â™ª OFF';$('abtn').classList.toggle('on',audioOn);
}
function ensureAudio(){
  aInit();aResume();
  if(!audioOn){audioOn=true;aVol(.35);startPad([131,165,196,247],.03);$('abtn').textContent='â™ª ON';$('abtn').classList.add('on')}
}
$('abtn').onclick=toggleAudio;

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   6. UI HELPERS
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
async function typewrite(el,text,spd){
  spd=spd||30;
  for(let i=0;i<text.length;i++){
    if(text[i]==='<'){const j=text.indexOf('>',i);el.innerHTML+=text.substring(i,j+1);i=j}
    else{el.innerHTML+=text[i];sfxType()}
    await sl(spd);
  }
}
function showDlg(text,dur){
  const el=$('dlg');el.innerHTML=text;el.classList.add('vis');
  if(dur)setTimeout(()=>el.classList.remove('vis'),dur);
}
function hideDlg(){$('dlg').classList.remove('vis')}
function scr(){$('screen').innerHTML=''}
function noSignal(){scr();$('screen').innerHTML='<div class="screen-msg">NO SIGNAL</div>';$('chid').textContent='AV-1';$('glow').style.background='radial-gradient(ellipse,rgba(255,107,157,.02) 0%,transparent 65%)'}

/* â”€â”€ SHEEPY SVG â”€â”€ */
function sheepSVG(sz,expr){
  const m=expr==='happy'?'M-5 2 Q0 8 5 2':expr==='sad'?'M-5 5 Q0 0 5 5':expr==='nervous'?'M-4 4 Q-2 2 0 4 Q2 6 4 4':'M-4 3 L4 3';
  return`<svg width="${sz}" height="${sz}" viewBox="0 0 120 120" style="animation:bounce 2s infinite ease-in-out">
    <ellipse cx="60" cy="75" rx="34" ry="28" fill="#f5f5f5"/>
    <ellipse cx="40" cy="70" rx="11" ry="9" fill="#fafafa"/><ellipse cx="80" cy="70" rx="11" ry="9" fill="#fafafa"/>
    <ellipse cx="55" cy="62" rx="9" ry="7" fill="#fafafa"/><ellipse cx="65" cy="62" rx="9" ry="7" fill="#fafafa"/>
    <ellipse cx="60" cy="35" rx="20" ry="16" fill="#ffeef5"/>
    <ellipse cx="35" cy="28" rx="7" ry="4" fill="#ffc0cb" transform="rotate(-18 35 28)"/>
    <ellipse cx="85" cy="28" rx="7" ry="4" fill="#ffc0cb" transform="rotate(18 85 28)"/>
    <ellipse cx="50" cy="33" rx="4" ry="5" fill="#222"/><ellipse cx="70" cy="33" rx="4" ry="5" fill="#222"/>
    <circle cx="52" cy="31" r="1.5" fill="#fff"/><circle cx="72" cy="31" r="1.5" fill="#fff"/>
    <ellipse cx="60" cy="42" rx="3" ry="2" fill="#ff8fab"/>
    <g transform="translate(60 50)"><path d="${m}" stroke="#ff8fab" stroke-width="1.5" fill="none" stroke-linecap="round"/></g>
  </svg>`;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   7. SCREEN STATES
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
async function screenBoot(){
  scr();
  const el=document.createElement('div');el.className='boot-text';$('screen').appendChild(el);
  const lines=[
    'SHEEPYâ„¢ ARCHIVE SYSTEM v2.0','INITIALIZING MEMORY BANKS...',
    'SCANNING FOR TAPES... [OK]','LOADING EMOTIONAL PAYLOAD...',
    'CALIBRATING FEELINGS ENGINE...','CRT PHOSPHOR WARM-UP... [OK]',
    '','ALL SYSTEMS NOMINAL.','READY FOR PLAYBACK. ğŸ‘'
  ];
  for(const line of lines){
    await typewrite(el,line+'\n',18);
    await sl(120+Math.random()*200);
  }
  el.innerHTML+='<span class="cur"></span>';
  await sl(1200);
}

async function screenIntro(){
  scr();
  const wrap=document.createElement('div');wrap.className='sheepy-intro';
  const glow=document.createElement('div');glow.className='sheepy-glow';
  glow.innerHTML=sheepSVG(120,'nervous');
  const txt=document.createElement('div');txt.className='intro-line';
  wrap.appendChild(glow);wrap.appendChild(txt);$('screen').appendChild(wrap);
  await sl(600);

  const lines=[
    `<span class="hand">baa.</span>`,
    `Sheepy here. She asked me to deliver something.`,
    `But you... you wanted to respond.`,
    `So I'm carrying your reply.`,
    `<span class="hand">Each tape is a possible ending.</span>`,
    `None of them are true. All of them are true.`,
    `A seed has many fates.`,
    `Drag a tape to the slot to begin.`
  ];
  for(const line of lines){
    txt.style.opacity='0';await sl(300);
    txt.innerHTML=line;txt.style.opacity='1';
    await sl(Math.max(line.replace(/<[^>]*>/g,'').length*55,1200)+600);
  }
  await sl(800);
}

async function screenLoading(name){
  scr();burst(400);
  const d=document.createElement('div');d.className='load-wrap';
  d.innerHTML=`<div class="load-title">â–¶ ${name}</div><div class="load-bar"><div class="load-fill" id="lf"></div></div>`;
  $('screen').appendChild(d);
  let w=0;
  await new Promise(r=>{const iv=setInterval(()=>{w+=Math.random()*5+3;$('lf').style.width=Math.min(w,100)+'%';if(w>=100){clearInterval(iv);r()}},50)});
  await sl(300);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   8. TAPE PLAYBACK
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function startCounter(){
  counterSec=0;$('counter').classList.add('on');
  counterIv=setInterval(()=>{counterSec++;const m=String(Math.floor(counterSec/60)).padStart(2,'0'),s=String(counterSec%60).padStart(2,'0');$('counter').textContent='â–¶ '+m+':'+s},1000);
}
function stopCounter(){clearInterval(counterIv);$('counter').classList.remove('on')}

async function playTape(tape){
  if(playing)return;playing=true;
  const scenes=CONTENT[tape.id];if(!scenes)return;

  // Setup
  $('lPlay').classList.add('on');$('rec').classList.add('on');
  $('chid').textContent='â–¶ PLAY';
  $('tracking').classList.add('on');
  $('glow').style.background=`radial-gradient(ellipse,${tape.color}11 0%,transparent 60%)`;
  if(audioOn){stopPad();await sl(300);startPad(tape.padHz,.04)}
  startCounter();

  // Play scenes
  for(let si=0;si<scenes.length;si++){
    scr();burst(200);await sl(400);
    const wrap=document.createElement('div');wrap.className='scene-wrap';$('screen').appendChild(wrap);
    const lines=scenes[si];
    for(let li=0;li<lines.length;li++){
      const el=document.createElement('div');el.className='scene-line';el.textContent=lines[li];
      wrap.appendChild(el);
      await sl(80);el.classList.add('vis');
      // typewriter-like reveal timing
      await sl(lines[li].length*40+400);
    }
    await sl(2200);
    // fade out
    wrap.querySelectorAll('.scene-line').forEach(l=>l.style.opacity='0');
    await sl(600);
  }

  // End
  scr();burst(300);await sl(500);
  const card=document.createElement('div');card.className='end-card';
  card.textContent=tape.id==='t5'?'ğŸŒ± The seed has been planted.':'[ END OF '+tape.title.toUpperCase()+' ]';
  $('screen').appendChild(card);
  await sl(200);card.classList.add('vis');
  sfxComplete();await sl(3000);

  // Cleanup
  stopCounter();$('lPlay').classList.remove('on');$('rec').classList.remove('on');
  $('tracking').classList.remove('on');
  markDone(tape.id);
  playing=false;insertedTape=null;
  if(audioOn){stopPad();startPad([131,165,196,247],.03)}

  // Post-tape
  await sl(500);
  if(tape.id==='t5'){
    await screenFinale();
  } else {
    const expr=tape.id==='t1'?'neutral':tape.id==='t2'?'sad':tape.id==='t3'?'nervous':'happy';
    scr();
    const sw=document.createElement('div');sw.className='sheepy-intro';
    const sg=document.createElement('div');sg.className='sheepy-glow';sg.innerHTML=sheepSVG(100,expr);
    const st=document.createElement('div');st.className='intro-line';st.style.opacity='1';
    const msgs={t1:'The ground is ready.',t2:'Still falling.',t3:'That was brave.',t4:'There it is.'};
    st.innerHTML=`<span class="hand">${msgs[tape.id]||'...'}</span>`;
    sw.appendChild(sg);sw.appendChild(st);$('screen').appendChild(sw);
    await sl(3000);
    noSignal();buildRack();
    showDlg(canPlay('t5')?'A new tape has appeared... ğŸŒ±':'Choose the next tape. ğŸ‘',3500);
  }
}

async function screenFinale(){
  scr();
  const wrap=document.createElement('div');wrap.className='sheepy-intro';
  const sg=document.createElement('div');sg.className='sheepy-glow';sg.innerHTML=sheepSVG(120,'happy');
  const txt=document.createElement('div');txt.className='intro-line';txt.style.opacity='1';
  wrap.appendChild(sg);wrap.appendChild(txt);$('screen').appendChild(wrap);

  const lines=['All tapes played.','The seed has been planted.','It\'s growing now.','ğŸŒ±'];
  for(const l of lines){txt.innerHTML=`<span class="hand">${l}</span>`;await sl(2000)}
  await sl(2000);
  noSignal();buildRack();
  showDlg('The archive is complete. You can replay any tape.',0);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   9. DRAG & DROP + TAP
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let dragging=false,ghost=null,dragTape=null;

function startDrag(e,tape,el){
  if(dragging||playing)return;dragging=true;dragTape=tape;
  deselectAll();ensureAudio();
  const r=el.getBoundingClientRect();
  ghost=document.createElement('div');ghost.className='ghost';
  ghost.innerHTML=el.querySelector('.tape-lbl').outerHTML;
  document.body.appendChild(ghost);
  el.classList.add('dragging');
  moveGhost(e);
  document.addEventListener('pointermove',moveGhost);
  document.addEventListener('pointerup',endDrag);
}
function moveGhost(e){
  if(!ghost)return;
  ghost.style.left=(e.clientX-ghost.offsetWidth/2)+'px';
  ghost.style.top=(e.clientY-ghost.offsetHeight/2)+'px';
  const sr=$('slot').getBoundingClientRect(),gr=ghost.getBoundingClientRect();
  if(collide(sr,gr)){$('slot').classList.add('active');$('slotLbl').textContent='â–¶ DROP'}
  else{$('slot').classList.remove('active');$('slotLbl').textContent='â–¶ DRAG HERE'}
}
function endDrag(){
  document.removeEventListener('pointermove',moveGhost);
  document.removeEventListener('pointerup',endDrag);
  const orig=document.querySelector(`.tape[data-id="${dragTape?.id}"]`);
  if(orig)orig.classList.remove('dragging');
  const sr=$('slot').getBoundingClientRect(),gr=ghost?ghost.getBoundingClientRect():null;
  const hit=gr&&collide(sr,gr);
  if(ghost)ghost.remove();ghost=null;
  $('slot').classList.remove('active');$('slotLbl').textContent='â–¶ DRAG HERE';
  if(hit)insertTape(dragTape);
  dragging=false;dragTape=null;
}
function collide(a,b){return!(b.left>a.right||b.right<a.left||b.top>a.bottom||b.bottom<a.top)}

/* â”€â”€ TAP FLOW (mobile-friendly alt) â”€â”€ */
function selectTape(tape,el){
  if(playing)return;ensureAudio();sfxBeep();
  deselectAll();el.classList.add('selected');selectedTape=tape;
  $('slot').classList.add('active');$('slotLbl').textContent='â–¶ TAP TO INSERT';
}
function deselectAll(){
  selectedTape=null;
  document.querySelectorAll('.tape.selected').forEach(t=>t.classList.remove('selected'));
  if(!dragging){$('slot').classList.remove('active');$('slotLbl').textContent='â–¶ DRAG HERE'}
}
function slotClick(){
  if(selectedTape){insertTape(selectedTape);deselectAll()}
  else if(!playing)showDlg('Drag a tape here, or tap one first.',2000);
}
function doEject(){
  if(playing){showDlg('Tape is playing...',1500)}
  else{sfxClunk();showDlg('No tape inserted.',1500)}
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   10. INSERT TAPE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
async function insertTape(tape){
  if(playing)return;
  sfxClunk();setTimeout(sfxSnap,250);setTimeout(sfxMotor,350);
  insertedTape=tape;hideDlg();
  $('slot').classList.add('inserting','active');$('slotLbl').textContent='â–¶ LOADING...';
  burst(600);await sl(900);
  $('slot').classList.remove('inserting');
  await screenLoading(tape.title);
  await sl(300);
  playTape(tape);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   11. BUILD RACK
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function buildRack(){
  const rack=$('rack');rack.innerHTML='<div class="rack-hdr">ARCHIVE</div>';
  TAPES.forEach(t=>{
    const d=done(t.id),avail=canPlay(t.id);
    const cls='tape'+(d?' complete':'')+(t.needs&&!avail&&!d?' seq-locked':'');
    const el=document.createElement('div');el.className=cls;el.dataset.id=t.id;
    const status=d?'âœ“ PLAYED':avail?'NEW':'PLAY PREV';
    el.innerHTML=`<div class="tape-dot" style="background:${t.color}"></div>
      <div class="tape-win"><div class="reel"></div><div class="tape-strip"></div><div class="reel"></div></div>
      <div class="tape-lbl">${t.title}<span class="tape-st">${status}</span></div>`;

    if(avail||d){
      // Drag
      el.addEventListener('pointerdown',e=>{
        const timer=setTimeout(()=>startDrag(e,t,el),150);
        const cancel=()=>{clearTimeout(timer);el.removeEventListener('pointerup',cancel);el.removeEventListener('pointermove',moveCancel)};
        const moveCancel=(ev)=>{if(Math.abs(ev.clientX-e.clientX)+Math.abs(ev.clientY-e.clientY)>8){clearTimeout(timer);startDrag(e,t,el);el.removeEventListener('pointerup',cancel);el.removeEventListener('pointermove',moveCancel)}};
        el.addEventListener('pointerup',()=>{clearTimeout(timer);selectTape(t,el);el.removeEventListener('pointermove',moveCancel)},{once:true});
        el.addEventListener('pointermove',moveCancel);
      });
    } else {
      el.addEventListener('click',()=>showDlg(t.needs?'Complete previous tapes first.':'Locked.',2000));
    }
    rack.appendChild(el);
  });
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   12. BOOT
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
async function boot(){
  $('boot').classList.add('gone');
  $('station').classList.add('on');
  initNoise();burst(350);$('lPwr').classList.add('on');
  startParticles();ensureAudio();sfxPower();

  const allDone=done('t5');
  if(allDone){
    noSignal();buildRack();
    $('glow').style.background='radial-gradient(ellipse,rgba(168,230,163,.04) 0%,transparent 60%)';
    showDlg('The archive is complete. Replay any tape. ğŸŒ±',0);
    return;
  }
  const anyDone=done('t1')||done('t2')||done('t3')||done('t4');
  if(anyDone){
    // Returning user â€” shorter boot
    await sl(600);burst(200);
    scr();$('screen').innerHTML=`<div class="sheepy-intro"><div class="sheepy-glow">${sheepSVG(100,'happy')}</div><div class="intro-line" style="opacity:1"><span class="hand">Welcome back.</span></div></div>`;
    await sl(2000);
    noSignal();buildRack();
    showDlg('Choose your next tape. ğŸ‘',3000);
  } else {
    // First time â€” full experience
    await screenBoot();
    await screenIntro();
    noSignal();buildRack();
    showDlg('Drag a tape to the slot. ğŸ‘',4000);
  }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   13. INIT
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
// Update boot prompt if returning
if(done('t5')){$('boot-prompt').textContent='[ THE SEED IS STILL GROWING ]'}
else if(done('t1')){$('boot-prompt').textContent='[ CLICK TO CONTINUE ]'}

$('boot').addEventListener('click',boot,{once:true});

// Prevent context menu on long-press (mobile)
document.addEventListener('contextmenu',e=>e.preventDefault());
</script>
</body>
</html>
